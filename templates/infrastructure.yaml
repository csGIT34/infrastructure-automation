# Infrastructure Configuration
# This file defines the Azure resources for your project.
# Edit this file and create a PR to preview changes.
# Merge to main to provision resources.

metadata:
  # Required: Unique project identifier (lowercase, alphanumeric, hyphens)
  project_name: my-project

  # Required: Target environment (dev, staging, prod)
  environment: dev

  # Required: Your business unit
  business_unit: engineering

  # Required: Cost center for billing
  cost_center: CC-ENG-001

  # Required: Owner email for notifications
  owner_email: team@company.com

  # Optional: Azure region (default: centralus)
  location: centralus

  # Optional: Additional tags
  tags:
    Application: MyApp
    Team: Platform

# Define your infrastructure resources
resources:
  # Storage Account Example
  - type: storage_account
    name: data
    config:
      tier: Standard        # Standard or Premium
      replication: LRS      # LRS, GRS, ZRS, GZRS
      versioning: false
      containers:
        - name: uploads
          access_type: private

  # Key Vault Example (uncomment to use)
  # - type: keyvault
  #   name: secrets
  #   config:
  #     sku: standard       # standard or premium
  #     rbac_enabled: true

  # PostgreSQL Example (uncomment to use)
  # - type: postgresql
  #   name: db
  #   config:
  #     version: "14"
  #     sku: B_Standard_B1ms
  #     storage_mb: 32768
  #     backup_retention_days: 7

# Available resource types:
# - storage_account: Azure Storage Account
# - keyvault: Azure Key Vault
# - postgresql: Azure Database for PostgreSQL Flexible Server
# - mongodb: Azure Cosmos DB for MongoDB
# - eventhub: Azure Event Hubs
# - function_app: Azure Functions
# - linux_vm: Azure Linux Virtual Machine
# - aks_namespace: AKS Namespace (requires existing cluster)
