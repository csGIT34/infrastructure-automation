# Data Pipeline Pattern Request
# Event-driven data processing: Event Hub + Function + Storage + MongoDB
#
# This pattern provisions:
# - Azure Event Hubs namespace (streaming ingestion)
# - Azure Function App (event processor)
# - Azure Storage Account (raw + processed data)
# - Cosmos DB with MongoDB API (processed data store)
# - Key Vault (connection strings)
# - Security Groups (owner delegation)
# - RBAC Assignments (least-privilege access)
# - Diagnostics (staging/prod)

version: "1"

metadata:
  project: analytics-pipeline
  environment: dev
  business_unit: data-engineering
  owners:
    - data-team@company.com
  location: eastus

pattern: data-pipeline
config:
  name: analytics
  size: small                         # small, medium, large (optional)

  # Optional pattern-specific config:
  # input_hubs:                        # Event hubs for ingestion
  #   - events
  #   - logs
  # output_hubs:                       # Event hubs for processed data
  #   - enriched
  # storage_containers:                # Storage containers
  #   - raw
  #   - processed
  #   - archive
