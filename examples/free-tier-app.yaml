# API Backend Pattern Request (Dev/Free Tier)
# Backend API without frontend: Function App + SQL Database
#
# This pattern provisions:
# - Azure Function App (REST API)
# - Azure SQL Database (relational data)
# - Key Vault (connection strings)
# - Security Groups (owner delegation)
# - RBAC Assignments (least-privilege access)
#
# Cost: ~$5/month in dev (uses consumption plan + basic SQL)

version: "1"

metadata:
  project: my-api
  environment: dev
  business_unit: engineering
  owners:
    - developer@company.com
  location: eastus

pattern: api-backend
config:
  name: api
  size: small                         # Uses consumption plan + basic SQL

  # Optional pattern-specific config:
  # runtime: python                   # python, node, dotnet, java
  # databases:                        # SQL databases to create
  #   - main
  #   - analytics
  # enable_openapi: true              # Enable OpenAPI docs
